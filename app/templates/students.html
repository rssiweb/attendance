{% extends 'lbase.html' %}


{% block bodywh %}
{%raw%}
<!-- Model add student -->
<div class="ui container">

    <table class="ui celled stripped table">
        <thead>
            <tr>
                <th>Name</th>
                <th>Student ID</th>
                <th>Category</th>
                <th>Date of Birth</th>
            </tr>
        </thead>
        <tr v-for="student in students">
            <!-- clicking on a student will add its details to the below form and the add button will become update button -->
            <td><a href="#" v-on:click="updateStudent(student.id)">{{student.name}}</a></td>
            <td>{{student.student_id}}</td>
            <td>{{student.category}}</td>
            <td>{{moment(student.dob).format('Do MMMM YYYY')}}</td>
        </tr>
    </table>
  
    <div class="ui form container">
        <h3 class="ui header">Add Student</h3>
        <div id="addStudentForm" class="fields">
            <input type="hidden" v-model="studentToUpdate.id"/>
            <div class="field">
                <label>Name</label>
                <input type="text" name="name" placeholder="Name" v-model="studentToUpdate.name">
            </div>
            <div class="field">
                <label>Student ID</label>
                <input type="text" name="id" placeholder="Student ID" v-model="studentToUpdate.student_id">
            </div>
            <div class="field">
                <label>Category</label>
                <input type="text" name="category" placeholder="Category" v-model="studentToUpdate.category">
            </div>
            <div class="field">
                <label>Date of Birth</label>
                <input type="date" name="dob" placeholder="Date of Birth" v-model="formDate">
            </div>
        </div>

        <button class="ui positive button" v-on:click="addStudent">{{buttonText}}</button>
        <button class="ui deny button" v-on:click="resetStudent">Reset</button>

</div>

<div class="ui container">
    
</div>

</div>
{%endraw%}
{% endblock %}

{% block script %}
<script type="text/javascript" src="{{ url_for('static', filename='js/students.js') }}"></script>
{% endblock%}