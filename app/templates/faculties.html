{% extends 'lbase.html' %}

{% block bodywh %}
{%raw%}
<!-- Model add student -->
<h2 class="ui header">{{ heading }}</h2>
<div class="ui container">
    <div class="ui container" v-if="error">
        <div class="ui negative message">
            <i class="close icon"></i>
            <div class="header">
                Unfortunately an error occured
            </div>
            {{ error }}
        </div>
    </div>

    <div class="ui container" v-if="message">
        <div class="ui info message">
            <i class="close icon"></i>
            <div class="header">
                Info
            </div>
            {{ message }}
        </div>
    </div>

    <div class="ui segment" v-if="loading">
        <div class="ui active inverted dimmer">
            <div class="ui text loader">{{ loading }}</div>
        </div>
        <p><br/><br/><br/><br/></p>
    </div>
    <table class="ui sorted striped compact table" v-if="faculties && !loading && !error">
        <thead>
            <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Gender</th>
            </tr>
        </thead>
        <tbody>
            <tr v-for="faculty in faculties">
                <td>{{faculty.name}}</td>
                <td><a href="#" @click="resetPassword(faculty)">{{faculty.email}}</a></td>
                <td>{{faculty.gender | capitalize}}</td>
            </tr>
        </tbody>
    </table>
    <div class="ui form container">
        <div class="ui sub header"><h3>Add Faculty</h3></div>
        <br/>
        <form id="addFacultyForm" v-on:submit.prevent="addFaculty">
            <div class="ui fields">
                <div class="required field">
                    <label>Faculty ID</label>
                    <input type="text" name="id" placeholder="Faculty ID" v-model="facultyToUpdate.facultyId">
                </div>
                <div class="required field">
                    <label>Name</label>
                    <input type="text" name="name" placeholder="Full Name" v-model="facultyToUpdate.name">
                </div>
                <div class="required field">
                    <label>Email</label>
                    <input type="text" name="email" placeholder="Email" v-model="facultyToUpdate.email">
                </div>
                <div class="required field">
                    <label>Password</label>
                    <input type="password" name="password" placeholder="Password" v-model="facultyToUpdate.password">
                </div>
                <div class="required field" v-bind:class="{error: !matchPassword}">
                    <label>Confirm Password</label>
                    <input type="password" name="confirmPassword" placeholder="Confirm Password" v-model="confirmPassword">
                </div>

                <div class="required field">

                    <label>Gender</label>
                    <select name="gender" class="ui dropdown" v-model="facultyToUpdate.gender">
                      <option value="">Gender</option>
                      <option value="male">Male</option>
                      <option value="female">Female</option>
                      <option value="others">Others</option>
                  </select>

              </div>
          </div>
          <div class="buttons">
            <button type="submit" class="ui positive button" v-bind:class="{loading: loading, disabled: loading}">Add</button>
            <button type="reset" class="ui negative button">Clear</button>
        </div>
    </form>
</div>
</div>
<!-- Modals -->
<div id="resetModal" class="ui tiny modal">
    <div class="header">Reset {{facultyToReset.name}}'s Password</div>
    <div class="content">


        <div class="ui form">
            <div class="ui field">
                <label>Email</label>
                {{facultyToReset.email}}
            </div>
            <div class="ui field">
                <label>New Password</label>
                <input type="password" name="password" v-model="facultyToReset.password"/>
            </div>
            <div class="ui field">
                <label>Confirm Password</label>
                <input type="password" name="confirmPassword" v-model="facultyToReset.confirmPassword"/>
            </div>
        </div>
    </div>
    <div class="actions">
        <button class="ui negative button">Cancel</button>
        <button class="ui positive button">Reset</button>
    </div>
</div>
{%endraw%}
{% endblock %}

{% block script %}
<script type="text/javascript" src="{{ url_for('static', filename='js/faculty.js') }}"></script>
{% endblock%}